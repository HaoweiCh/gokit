本示例中grpc server直接实现业务逻辑, 不再需要protobuf的参数与响应的类型转换层, 同时grpc server启动也就意味着业务逻辑已经就绪. 

但这样我们就需要在grpc server中实现读取配置, 连接数据库...

...好像也没什么不好???

`protobuf`文件编译命令

```
protoc --go_out=plugins=grpc:. ./user_manger.proto
```

## 程序运行方法(当前目录下)

先启动 server 端服务

```console
$ go run cmd/server/main.go
2020/05/20 11:04:08 server: 启动监听
2020/05/20 11:04:08 server: 注册服务
2020/05/20 11:04:08 server: 等待连接
```

再启动 client 服务

```
$ go run cmd/client/main.go
2020/05/20 11:04:20 client: 启动客户端
2020/05/20 11:04:20 client: 连接成功
2020/05/20 11:04:20 client: 查询用户: 马云
2020/05/20 11:04:20 Name:"马云"  Title:"市场总监"  Company:"阿里"
2020/05/20 11:04:20 姓名: 马云
2020/05/20 11:04:20 职位: 市场总监
2020/05/20 11:04:20 公司: 阿里
2020/05/20 11:04:20 client: 李彦宏升职为CEO
2020/05/20 11:04:20 Name:"李彦宏"  Title:"CEO"  Company:"百度"
2020/05/20 11:04:20 姓名: 李彦宏
2020/05/20 11:04:20 职位: CEO
2020/05/20 11:04:20 公司: 百度
2020/05/20 11:04:20 client: 委派马化腾到深圳
2020/05/20 11:04:20 Name:"马化腾"  Title:"商务专员"  Company:"深圳"
2020/05/20 11:04:20 姓名: 马化腾
2020/05/20 11:04:20 职位: 商务专员
2020/05/20 11:04:20 公司: 深圳
```

> 在微服务架构中, 应该不能说 server 是服务端, client 就是客户端. ta们的角色是平等的, 只不过 client 需要调用 server 提供的服务而已. 而在实际场景中, client 应该是与 server 保持持久连接, 而不是执行完成就断开.
